server:
  port: 9090
spring:
  cloud:
    gateway:
      routes:
        - id: sinclair_route
          predicates:
            - Path=/sinclair/**
          uri: ${rewrite.backend.uri:https://sinclairdigital.com/}
          filters:
            - RewritePath=/sinclair(?<segment>/?.*),/$\{segment}
        # - id: insta_route
        #   uri: ${rewrite.backend.uri:https://instagram.com}
        #   predicates:
        #   - Path=/instagram/**
        #   filters:
        #   - RewritePath=/instagram/(?<username>.*),/$\{username}
# "*" exposure enables actuator access, eg localhost:xxxx/actuator/gateway/routes
# especially important in order to expose the /refresh actuator endpoint
management:
  endpoints:
    web:
      exposure:
        include: "*"
